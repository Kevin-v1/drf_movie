(function(){"use strict";var e={7478:function(e,t,r){var s=r(3751),o=r(641);function a(e,t,r,s,a,n){const i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(i)}var n=r(4335),i={name:"App",beforeCreate(){this.$store.commit("initializeStore");const e=this.$store.state.token;n.A.defaults.headers.common["Authorization"]=e?"JWT "+e:"",console.log("axios token is:"+n.A.defaults.headers.common["Authorization"])}},l=r(6262);const d=(0,l.A)(i,[["render",a]]);var c=d,u=(r(8111),r(3579),r(5220)),m=r(6278),p=(0,m.y$)({state:{isLogin:!1,token:""},getters:{},mutations:{initializeStore(e){localStorage.getItem("token")?(e.isLogin=!0,e.token=localStorage.getItem("token")):(e.isLogin=!1,e.token="")},setLoginStatus(e,t){e.isLogin=t},setToken(e,t){e.token=t},removeToken(e,t){e.token=""}},actions:{},modules:{}});const g={id:"container",class:"text-white text-sm bg-primary-300 min-h-screen pb-4"};function h(e,t,r,s,a,n){const i=(0,o.g2)("Header"),l=(0,o.g2)("MovieList"),d=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.CE)("div",g,[(0,o.bF)(i),(0,o.bF)(l),(0,o.bF)(d)])}var v=r(33),k=r.p+"img/logo.a3beb276.png";const A={id:"header",class:"h-12 py-1 bg-primary-100 flex items-center justify-center"},f={class:"w-full px-4",style:{"max-width":"1440px"}},b={class:"flex justify-between"},x={class:"flex items-center"},w={id:"nav",class:"px-4"},y={class:"flex items-center space-x-2"},E={class:"relative shrink"},L={class:"absolute top-0 right-0 flex items-center h-full"},Q={class:"rounded text-xs text-gray-400 px-2 mr-2"},B={id:"username",class:"px-2"},C={class:"bg-primary-700 py-2 px-4 text-sm"},_={class:"plx-2 py-2"},M={key:1,class:"text-white flex-shrink-0 pr-2"};function I(e,t,r,a,n,i){const l=(0,o.g2)("category"),d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",A,[(0,o.Lk)("div",f,[(0,o.Lk)("div",b,[(0,o.Lk)("div",x,[t[4]||(t[4]=(0,o.Lk)("a",{href:"/"},[(0,o.Lk)("img",{src:k,style:{height:"39px"}})],-1)),(0,o.Lk)("div",w,[(0,o.bF)(l)])]),(0,o.Lk)("div",y,[(0,o.Lk)("div",E,[(0,o.Lk)("form",null,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.keyword=t),type:"text",name:"keyword",class:"outline-0 h-9 rounded bg-primary-700 border border-gray-600 placeholder-gray-400 w-64 px-2 py-1 max-w-[180px]",placeholder:"请输入关键词"},null,512),[[s.Jo,e.keyword]]),(0,o.Lk)("div",L,[(0,o.Lk)("div",Q,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(0,s.D$)(((...e)=>i.searchMovies&&i.searchMovies(...e)),["prevent"]))},t[5]||(t[5]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)]))])])])]),e.$store.state.isLogin?((0,o.uX)(),(0,o.CE)("div",{key:0,onClick:t[3]||(t[3]=(...e)=>i.toggleMenu&&i.toggleMenu(...e)),id:"userinfo",class:"flex relative hover: cursor-pointer items-center justify-center rounded border border-solid text-white text-lg h-9 text-center"},[(0,o.Lk)("div",B,(0,v.v_)(e.username),1),t[8]||(t[8]=(0,o.Lk)("div",{class:"pr-2"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1)),(0,o.Lk)("div",{class:(0,v.C4)([{hidden:!e.showMenu},"absolute top-[40px] w-32 transition ease-in-out delay-150 z-50"]),id:"userinfo_menu"},[(0,o.Lk)("ul",C,[t[7]||(t[7]=(0,o.Fv)('<li class="plx-2 py-2"><a href="/personal">个人中心</a></li><li class="plx-2 py-2"><a href="/member_card">会员卡</a></li><li class="plx-2 py-2"><a href="/collect">我的收藏</a></li><li class="plx-2 py-2"><a href="/orders">我的订单</a></li>',4)),(0,o.Lk)("li",_,[(0,o.bF)(d,{to:"/",onClick:t[2]||(t[2]=(0,s.D$)((e=>i.logout()),["prevent"]))},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)("退出")]))),_:1,__:[6]})])])],2)])):((0,o.uX)(),(0,o.CE)("div",M,t[9]||(t[9]=[(0,o.Lk)("a",{href:"/login/"},"登录",-1),(0,o.eW)(" / "),(0,o.Lk)("a",{href:"/register/"},"注册",-1)])))])])])])}r(4114);const j={id:"nav",class:"px-4"},X={class:"md:flex items-center space-x-4 ml-2"},D=["onClick"],O={class:"bg-primary-700 py-2 px-4"},S={class:"plx-2 py-2"},P=["href"],z=["href"];function F(e,t,r,s,a,n){return(0,o.uX)(),(0,o.CE)("div",j,[(0,o.Lk)("ul",X,[t[1]||(t[1]=(0,o.Lk)("li",null,[(0,o.Lk)("a",{href:"/"},"首页")],-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.info.results,(r=>((0,o.uX)(),(0,o.CE)("li",(0,o.v6)({ref_for:!0},r.id,{onClick:e=>n.toggle(r),class:"dropdown-menu flex items-center relative hover: cursor-pointer select-none"}),[(0,o.eW)((0,v.v_)(r.category_name)+" ",1),t[0]||(t[0]=(0,o.Lk)("span",null,[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1)),(0,o.Lk)("div",{class:(0,v.C4)([{hidden:!r.hidden},"dropdown-item-content absolute top-9 w-32 transition ease-in-out delay-150 z-50"])},[(0,o.Lk)("ul",O,[(0,o.Lk)("li",S,[(0,o.Lk)("a",{href:"/?category="+r.id},"全部",8,P)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.regions,(e=>((0,o.uX)(),(0,o.CE)("li",{class:"plx-2 py-2",key:e.id},[(0,o.Lk)("a",{href:"/?category="+r.id+"&region="+e.id},(0,v.v_)(e.name),9,z)])))),128))])],2)],16,D)))),256))])])}var T={name:"Category",data:function(){return{info:"",regions:[{id:1,name:"中国大陆"},{id:2,name:"中国香港"},{id:3,name:"中国台湾"},{id:4,name:"美国"},{id:5,name:"日本"},{id:6,name:"韩国"},{id:7,name:"其他"}]}},mounted(){n.A.get("/api/category/").then((e=>{this.info=e.data}))},methods:{toggle(e){e.hidden=!e.hidden}}};const H=(0,l.A)(T,[["render",F]]);var R=H,G={name:"Header",data:function(){return{keyword:"",username:"",showMenu:!1}},mounted(){this.username=localStorage.getItem("username");const e=Date.now(),t=localStorage.getItem("expiredTime"),r=localStorage.getItem("refreshToken");console.log(e),console.log(t),t>e?this.$store.commit("setLoginStatus",!0):r?n.A.post("/api/jwt/refresh/",{refresh:r}).then((e=>{console.log("执行refresh");const t=e.data.access;localStorage.setItem("token",t);const r=Date.now()+3e5;localStorage.setItem("expiredTime",r),this.$store.commit("setLoginStatus",!0),this.$store.commit("setToken",t)})).catch((e=>{console.log(e),this.$store.commit("setLoginStatus",!1),this.$store.commit("removeToken"),localStorage.clear()})):(this.$store.commit("setLoginStatus",!1),this.$store.commit("removeToken"),localStorage.clear())},components:{Category:R},methods:{searchMovies(){const e=this.keyword.trim();this.$router.push({name:"home",query:{search:e}})},toggleMenu(){this.showMenu=!this.showMenu},logout(){localStorage.clear(),this.$store.commit("setLoginStatus",!1),this.$store.commit("setToken")}}};const J=(0,l.A)(G,[["render",I]]);var N=J;const V={class:"w-full flex justify-center items-center bg-primary-100 py-4"};function Z(e,t,r,s,a,n){return(0,o.uX)(),(0,o.CE)("footer",V,t[0]||(t[0]=[(0,o.Lk)("p",{class:"text-gray-500"},"© 2023 大熊课堂 All rights reserved.",-1)]))}var Y={name:"Footer"};const U=(0,l.A)(Y,[["render",Z]]);var W=U,q="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABkAAD/4QMpaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6MzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgV2luZG93cyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2MERBOTQ1RDg5MDkxMUU1QTZDMkEwM0U0MTlERTMzRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2MERBOTQ1RTg5MDkxMUU1QTZDMkEwM0U0MTlERTMzRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjYwREE5NDVCODkwOTExRTVBNkMyQTAzRTQxOURFMzNGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjYwREE5NDVDODkwOTExRTVBNkMyQTAzRTQxOURFMzNGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQAAQEBAQEBAQEBAQEBAQEBAQEBAQEB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";const K={class:"flex items-center justify-center"},$={class:"w-full px-2",style:{"max-width":"1440px"}},ee={id:"movie-list",class:"p-2 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},te=["href"],re={class:"relative"},se={key:0,class:"cover"},oe=["src"],ae={key:1},ne={key:2,class:"rounded absolute top-0 bg-purple-600 px-1 text-sm"},ie={key:3,class:"rounded absolute bottom-0 right-0 bg-blue-500 px-1 text-sm"},le={key:4,class:"rounded absolute bottom-0 right-0 bg-blue-500 px-1 text-sm"},de={key:5,class:"rounded absolute bottom-0 right-0 bg-blue-500 px-1 text-sm"},ce={class:"text-sm text-primary-200"};function ue(e,t,r,s,a,n){const i=(0,o.g2)("Page");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",K,[(0,o.Lk)("div",$,[(0,o.Lk)("div",ee,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.info.results,(e=>((0,o.uX)(),(0,o.CE)("div",{class:"movie",key:e.id},[(0,o.Lk)("a",{href:"/movie/"+e.id},[(0,o.Lk)("div",re,[e.image_url?((0,o.uX)(),(0,o.CE)("div",se,[(0,o.Lk)("img",{src:e.image_url,referrerPolicy:"no-referrer",alt:"",class:"rounded h-full w-full"},null,8,oe)])):((0,o.uX)(),(0,o.CE)("div",ae,t[0]||(t[0]=[(0,o.Lk)("img",{src:q,alt:"",class:"rounded h-full w-full"},null,-1)]))),e.is_top?((0,o.uX)(),(0,o.CE)("div",ne," 置顶 ")):(0,o.Q3)("",!0),1===e.quality?((0,o.uX)(),(0,o.CE)("div",ie," 720p ")):2===e.quality?((0,o.uX)(),(0,o.CE)("div",le," 1080p ")):3===e.quality?((0,o.uX)(),(0,o.CE)("div",de," 4k ")):(0,o.Q3)("",!0)]),(0,o.Lk)("p",null,(0,v.v_)(e.movie_name)+"("+(0,v.v_)(e.release_year)+")",1),(0,o.Lk)("p",ce,(0,v.v_)(e.language),1)],8,te)])))),128))])])]),(0,o.bF)(i,{info:e.info},null,8,["info"])],64)}const me={id:"footer",class:"flex items-center justify-center text-gray-500 pb-4"},pe=["onClick"],ge={key:1,class:"w-8 h-8 rounded mx-1 my-1"},he=["onClick"];function ve(e,t,r,s,a,n){return(0,o.uX)(),(0,o.CE)("div",me,[r.info.previous?((0,o.uX)(),(0,o.CE)("span",{key:0,class:"page-link",onClick:t[0]||(t[0]=e=>n.goToPage(n.prevPage))},t[2]||(t[2]=[(0,o.Lk)("button",{class:"w-8 h-8 rounded mx-1 my-1 text-gray-600 bg-gray-500"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mx-auto",viewBox:"0 0 20 20",fill:"currentColor"},[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)]))):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.pages,(e=>((0,o.uX)(),(0,o.CE)("div",{class:(0,v.C4)(["page-link",{active:e===a.current}]),key:e},[e===a.current?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t=>n.goToPage(e),class:"w-8 h-8 rounded mx-1 my-1 bg-blue-500 text-white"},(0,v.v_)(e),9,pe)):"..."===e?((0,o.uX)(),(0,o.CE)("button",ge,(0,v.v_)(e),1)):((0,o.uX)(),(0,o.CE)("button",{key:2,onClick:t=>n.goToPage(e),class:"w-8 h-8 rounded mx-1 my-1 bg-gray-300"},(0,v.v_)(e),9,he))],2)))),128)),r.info.next?((0,o.uX)(),(0,o.CE)("a",{key:1,class:"page-link",onClick:t[1]||(t[1]=e=>n.goToPage(n.nextPage))},t[3]||(t[3]=[(0,o.Lk)("button",{class:"w-8 h-8 rounded mx-1 my-1 bg-gray-300"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mx-auto",viewBox:"0 0 20 20",fill:"currentColor"},[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])],-1)]))):(0,o.Q3)("",!0)])}var ke={props:["info"],data(){return{current:1}},computed:{lastPage(){let e=12;return Math.ceil(this.info.count/e)},prevPage(){return this.current>1?this.current-1:1},nextPage(){return this.current<this.lastPage?this.current+1:this.current},pages(){const e=[];for(let t=1;t<=this.lastPage;t++)1===t||t===this.lastPage||t>=this.current-1&&t<=this.current+1?e.push(t):"..."!==e[e.length-1]&&e.push("...");return e}},mounted(){this.current=this.getPageFromUrl()},methods:{getPageFromUrl(){const e=Number(this.$route.query.page);return e||1},goToPage(e){this.current=e;const t={...this.$route.query};t.page=e,this.$router.push({query:t})}}};const Ae=(0,l.A)(ke,[["render",ve]]);var fe=Ae,be={name:"MovieListView",components:{Page:fe},data:function(){return{info:""}},mounted(){this.get_movie_data()},methods:{get_movie_data:function(){let e="/api/movie";const t=Number(this.$route.query.page),r=this.$route.query.search,s=this.$route.query.category,o=this.$route.query.region,a=new URLSearchParams;t&&a.append("page",t),r&&a.append("movie_name",r),s&&a.append("category_id",s),o&&a.append("region",o),e=e+"?"+a.toString(),console.log(e),n.A.get(e).then((e=>this.info=e.data))}},watch:{$route(){this.get_movie_data()}}};const xe=(0,l.A)(be,[["render",ue]]);var we=xe,ye={name:"HomeView",components:{Header:N,Footer:W,MovieList:we}};const Ee=(0,l.A)(ye,[["render",h]]);var Le=Ee;const Qe={id:"container",class:"text-white text-sm bg-primary-300 min-h-screen pb-4"};function Be(e,t,r,s,a,n){const i=(0,o.g2)("Header"),l=(0,o.g2)("MovieBox"),d=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.CE)("div",Qe,[(0,o.bF)(i),(0,o.bF)(l),(0,o.bF)(d)])}const Ce={class:"flex items-center justify-center"},_e={class:"w-full px-2",style:{"max-width":"1440px"}},Me={id:"main",class:"bg-primary-300 p-6 text-black"},Ie={class:"flex rounded bg-white mx-4 py-6"},je={class:"mx-6"},Xe={class:"",style:{"min-height":"259px","max-height":"300px",height:"274px"}},De=["src"],Oe={id:"info","data-movie-id":"443"},Se={class:"text-lg font-semibold"},Pe={key:0},ze={key:1},Fe={key:2},Te={key:3},He={key:4},Re={key:5},Ge={key:6},Je={class:"rounded bg-white mx-4 my-4 py-6"},Ne={class:"px-6"},Ve={id:"download_info",class:"rounded bg-white mx-4 mt-4 py-6"},Ze={key:0,class:"px-6"},Ye={key:0},Ue={key:1,class:"flex flex-col items-center justify-center mx-6 rounded h-28 bg-gradient-to-r from-blue-500 to-purple-500"},We={key:1,class:"px-6"};function qe(e,t,r,s,a,n){return(0,o.uX)(),(0,o.CE)("div",Ce,[(0,o.Lk)("div",_e,[(0,o.Lk)("div",Me,[(0,o.Lk)("div",Ie,[(0,o.Lk)("div",je,[(0,o.Lk)("div",Xe,[(0,o.Lk)("img",{src:e.movie.image_url,class:"h-full w-full"},null,8,De)]),(0,o.Lk)("button",{onClick:t[0]||(t[0]=t=>n.collect_or_cancle(e.movie.id)),id:"collect",class:"copy text-white w-full px-4 py-1 mt-2 text-sm bg-blue-500 rounded border"},(0,v.v_)(e.collectMessage),1)]),(0,o.Lk)("div",Oe,[(0,o.Lk)("ul",null,[(0,o.Lk)("li",Se,(0,v.v_)(e.movie.movie_name),1),(0,o.Lk)("li",null,"导演: "+(0,v.v_)(e.movie.director),1),(0,o.Lk)("li",null,"编剧: "+(0,v.v_)(e.movie.scriptwriter),1),(0,o.Lk)("li",null,"主演: "+(0,v.v_)(e.movie.actors),1),(0,o.Lk)("li",null,"语言: "+(0,v.v_)(e.movie.language),1),t[3]||(t[3]=(0,o.Lk)("li",null,"首播: 2022年7月5日 ",-1)),t[4]||(t[4]=(0,o.Lk)("li",null,"集数: 27",-1)),(0,o.Lk)("li",null,"类型: "+(0,v.v_)(e.movie.types),1),(0,o.Lk)("li",null,[t[2]||(t[2]=(0,o.eW)("制片国家/地区: ")),1===e.movie.region?((0,o.uX)(),(0,o.CE)("span",Pe,"中国大陆")):2===e.movie.region?((0,o.uX)(),(0,o.CE)("span",ze,"中国香港")):3===e.movie.region?((0,o.uX)(),(0,o.CE)("span",Fe,"中国台湾")):4===e.movie.region?((0,o.uX)(),(0,o.CE)("span",Te,"美国")):5===e.movie.region?((0,o.uX)(),(0,o.CE)("span",He,"韩国")):6===e.movie.region?((0,o.uX)(),(0,o.CE)("span",Re,"日本")):((0,o.uX)(),(0,o.CE)("span",Ge,"其他"))]),(0,o.Lk)("li",null,"又名: "+(0,v.v_)(e.movie.alternate_name),1),(0,o.Lk)("li",null,"豆瓣评分: "+(0,v.v_)(e.movie.rate),1)])])]),(0,o.Lk)("div",Je,[(0,o.Lk)("div",Ne,[t[5]||(t[5]=(0,o.Lk)("h1",{class:"text-lg mb-6 font-semibold"},"简介",-1)),(0,o.Lk)("p",null,(0,v.v_)(e.movie.review),1)])]),(0,o.Lk)("div",Ve,[t[6]||(t[6]=(0,o.Lk)("h1",{class:"text-lg mb-6 font-semibold px-6"},"网盘地址",-1)),e.movie.download_info?((0,o.uX)(),(0,o.CE)("div",Ze,[e.download_info?((0,o.uX)(),(0,o.CE)("div",Ye,(0,v.v_)(e.movie.download_info),1)):((0,o.uX)(),(0,o.CE)("div",Ue,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.check_member_status&&n.check_member_status(...e)),id:"check_member",class:"rounded-center text-white"},"获取网盘地址")]))])):((0,o.uX)(),(0,o.CE)("div",We," 暂无下载地址 "))])])])])}var Ke=r(7736),$e=r.n(Ke);function et(e,t="error",r){let s;s="error"==t?"linear-gradient(to right, #ff5f6d, #ffc371)":"linear-gradient(to right, #00b09b, #96c93d)",$e()({text:e,duration:2e3,close:!0,gravity:"top",position:"center",stopOnFocus:!0,style:{background:s},callback:function(){r&&r&&r()},onClick:function(){alert("debug onclick")}}).showToast()}var tt={name:"MovieBox",data:function(){return{movie:{},isCollected:!1,collectMessage:"添加收藏",download_info:!1,userInfo:""}},mounted(){const e=this.$route.params.id;this.get_movie_detail(e),this.$store.state.isLogin?this.get_collect_status(e):this.collectStatus="添加收藏"},methods:{get_movie_detail(e){n.A.get("/api/movie/"+e).then((e=>this.movie=e.data))},get_collect_status(e){n.A.get("/api/collects/"+e+"/is_collected/").then((e=>{this.collectStatus=e.data.is_collected,this.collectStatus?this.collectMessage="取消收藏":this.collectMessage="添加收藏"}))},collect_or_cancle(e){const t=this.$store.state.isLogin;t?this.collectStatus?this.cancle_collet_movie(e):this.collet_movie(e):et("请先登录！","error",(()=>{this.$router.push({name:"Login"})}))},collet_movie(e){n.A.post("/api/collects/",{movie_id:e}).then((e=>{et("收藏成功","info"),this.collectStatus=!0,this.collectMessage="取消收藏"})).catch((e=>{et("收藏失败")}))},cancle_collet_movie(e){n.A.delete("/api/collects/"+e).then((e=>{et("取消成功","info"),this.collectStatus=!1,this.collectMessage="添加收藏"})).catch((e=>{et("取消失败")}))},check_member_status(){this.$store.state.isLogin?n.A.get("/api/users/me/").then((e=>{this.userInfo=e.data,this.userInfo.profile.is_upgrade?this.download_info=!0:et("请先升级会员！","error",(()=>{this.$router.push({name:"MemberCard"})}))})).catch((e=>{et("获取用户状态失败")})):et("请先登录！","error",(()=>{this.$router.push({name:"Login"})}))}}};const rt=(0,l.A)(tt,[["render",qe]]);var st=rt,ot={name:"MovieDetail",components:{Header:N,Footer:W,MovieBox:st}};const at=(0,l.A)(ot,[["render",Be]]);var nt=at,it=r.p+"img/bg.eb941064.png";const lt={id:"main-body",class:"bg-primary-100 flex justify-center h-screen"},dt={class:"container flex justify-center items-center rounded"},ct={class:"rounded-r w-80 h-[500px] my-8 px-2 py-4 bg-white shadow shadow-gray-300"},ut={id:"register_form",class:"px-4"},mt={class:"flex justify-left items-center relative h-10 px-4 my-2 rounded border-solid border border-gray-400"},pt={class:"flex justify-left items-center relative h-10 px-4 my-2 rounded border-solid border border-gray-400"},gt={class:"flex justify-left items-center relative h-10 px-4 my-2 rounded border-solid border border-gray-400"},ht={class:"flex justify-left items-center relative h-10 px-4 my-2 rounded border-solid border border-gray-400"},vt={class:"pt-6"};function kt(e,t,r,a,n,i){return(0,o.uX)(),(0,o.CE)("div",lt,[(0,o.Lk)("section",dt,[t[12]||(t[12]=(0,o.Lk)("div",{class:"hidden md:block"},[(0,o.Lk)("img",{src:it,alt:"",class:"rounded-l max-h-[500px]"})],-1)),(0,o.Lk)("div",ct,[t[11]||(t[11]=(0,o.Lk)("div",{class:"text-center text-lg py-6"},"用户注册",-1)),(0,o.Lk)("form",ut,[(0,o.Lk)("div",mt,[t[5]||(t[5]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-300 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t),type:"text",placeholder:"请输入用户名",class:"outline-0 text-sm"},null,512),[[s.Jo,e.username]])]),(0,o.Lk)("div",pt,[t[6]||(t[6]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-300 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19 2-8.4 7.05a1 1 0 0 1-1.2 0L1 2m18 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1m18 0v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2"})],-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.email=t),type:"text",placeholder:"请输入邮箱",class:"outline-0 text-sm"},null,512),[[s.Jo,e.email]])]),(0,o.Lk)("div",gt,[t[7]||(t[7]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-300 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.password=t),type:"password",placeholder:"请输入密码",class:"outline-0 text-sm"},null,512),[[s.Jo,e.password]])]),(0,o.Lk)("div",ht,[t[8]||(t[8]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-300 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.password2=t),type:"password",placeholder:"确认密码",class:"outline-0 text-sm"},null,512),[[s.Jo,e.password2]])]),t[9]||(t[9]=(0,o.Lk)("div",{class:"flex items-center"},[(0,o.Lk)("div",{class:"flex items-center relative h-10 w-32 px-4 my-2 rounded border-solid border border-gray-400"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-300 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})]),(0,o.Lk)("input",{type:"text",id:"vcode",name:"vcode",placeholder:"请输入验证码",class:"outline-0 text-sm w-24"})]),(0,o.Lk)("img",{id:"signInVcodeImg",src:"",onclick:"refreshVcode()"})],-1)),(0,o.Lk)("div",vt,[(0,o.Lk)("button",{onClick:t[4]||(t[4]=(0,s.D$)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"])),id:"login",class:"rounded bg-green-500 w-full h-8 text-white"},"注册")]),t[10]||(t[10]=(0,o.Lk)("div",{class:"text-center text-sm my-2"},[(0,o.eW)(" 已有账号 "),(0,o.Lk)("a",{class:"text-blue-500",href:"/login"},"去登录")],-1))])])])])}var At={name:"Register",data:function(){return{username:"",password:"",password2:"",email:""}},methods:{submitForm(){if(""===this.username)return void et("用户名不能为空");if(""===this.email)return void et("不能为空");if(""===this.password)return void et("密码不能为空");if(this.password!==this.password2)return void et("2次密码不一致");const e={username:this.username,email:this.email,password:this.password};n.A.post("/api/users/",e).then((e=>{et("注册完成，请到邮箱中激活账号"),that.$router.push({name:"Login"})})).catch((e=>{const t=e.response.data,r=Object.values(t).flat();for(let s=0;s<r.length;s++)et(r[s])}))}}};const ft=(0,l.A)(At,[["render",kt]]);var bt=ft;const xt={id:"container",class:"text-white text-sm bg-primary-300 min-h-screen pb-4"},wt={class:"flex items-center justify-center"},yt={class:"w-1/4 p-4 bg-gray-100 rounded-lg shadow-lg"},Et={class:"flex justify-center"};function Lt(e,t,r,s,a,n){const i=(0,o.g2)("Header"),l=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.CE)("div",xt,[(0,o.bF)(i),t[2]||(t[2]=(0,o.Lk)("div",{class:"text-center text-2xl p-8"}," 激活你的账号 ",-1)),(0,o.Lk)("div",wt,[(0,o.Lk)("div",yt,[t[1]||(t[1]=(0,o.Lk)("div",{class:"text-black text-center p-4"}," 请点击下方按钮，激活账号 ",-1)),(0,o.Lk)("div",Et,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.activate&&n.activate(...e)),class:"bg-green-500 text-white px-4 py-2 rounded"},"激活账号")])])]),(0,o.bF)(l)])}var Qt={name:"ActivateEmail",components:{Header:N,Footer:W},methods:{activate(){const e=this.$route.params.uid,t=this.$route.params.token,r={uid:e,token:t};n.A.post("/api/users/activation/",r).then((e=>{et("账号激活成功，可以登录了"),this.$router.push({name:"Login"})})).catch((function(e){console.log(e);const t=e.response.data;console.log(t);const r=Object.values(t).flat();for(let s=0;s<r.length;s++)et(r[s])}))}}};const Bt=(0,l.A)(Qt,[["render",Lt]]);var Ct=Bt;const _t={id:"main-body",class:"bg-primary-100 flex justify-center h-screen"},Mt={class:"container flex justify-center items-center rounded"},It={class:"rounded-r w-80 h-[500px] my-8 px-2 py-4 bg-white shadow shadow-gray-300"},jt={id:"register_form",class:"px-4"},Xt={class:"flex justify-left items-center relative h-10 px-4 my-2 rounded border-solid border border-gray-400"},Dt={class:"flex justify-left items-center relative h-10 px-4 my-2 rounded border-solid border border-gray-400"},Ot={class:"pt-6"},St={class:"text-center text-sm my-2"},Pt={class:"text-left text-green-500"};function zt(e,t,r,a,n,i){const l=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",_t,[(0,o.Lk)("section",Mt,[t[9]||(t[9]=(0,o.Lk)("div",{class:"hidden md:block"},[(0,o.Lk)("img",{src:it,alt:"",class:"rounded-l max-h-[500px]"})],-1)),(0,o.Lk)("div",It,[t[8]||(t[8]=(0,o.Lk)("div",{class:"text-center text-lg py-6"},"用户登录",-1)),(0,o.Lk)("form",jt,[(0,o.Lk)("div",Xt,[t[3]||(t[3]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-300 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t),type:"text",placeholder:"请输入用户名",class:"outline-0 text-sm"},null,512),[[s.Jo,e.username]])]),(0,o.Lk)("div",Dt,[t[4]||(t[4]=(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-300 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),type:"password",placeholder:"请输入密码",class:"outline-0 text-sm"},null,512),[[s.Jo,e.password]])]),(0,o.Lk)("div",Ot,[(0,o.Lk)("button",{onClick:t[2]||(t[2]=(0,s.D$)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"])),id:"login",class:"rounded bg-green-500 w-full h-8 text-white"},"登录")]),(0,o.Lk)("div",St,[(0,o.Lk)("span",Pt,[(0,o.bF)(l,{to:"/change_password"},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)("忘记密码?")]))),_:1,__:[5]})]),t[6]||(t[6]=(0,o.eW)(" 没有账号 ")),t[7]||(t[7]=(0,o.Lk)("a",{class:"text-blue-500",href:"/register"},"去注册",-1))])])])])])}var Ft={name:"Login",data:function(){return{username:"",password:""}},methods:{submitForm(){const e=this.username,t=this.password;if(""===e)return void et("用户名不能为空");if(""===t)return void et("密码不能为空");n.A.defaults.headers.common["Authorization"]="",localStorage.removeItem("token");const r={username:e,password:t};n.A.post("/api/jwt/create/",r).then((e=>{const t=e.data.access,r=e.data.refresh,s=this.username;localStorage.setItem("token",t),localStorage.setItem("refreshToken",r),localStorage.setItem("username",s),localStorage.setItem("expiredTime",Date.now()+3e5),this.$store.commit("setToken",t),this.$store.commit("setLoginStatus",!0),et("登录成功","info",(()=>{const e=this.$route.query.jump;console.log(e),e?this.$router.push(e):this.$router.push({name:"home"})}))})).catch((e=>{console.log(e);const t=e.response.data,r=Object.values(t).flat();for(let s=0;s<r.length;s++)et(r[s])}))}}};const Tt=(0,l.A)(Ft,[["render",zt]]);var Ht=Tt;const Rt={id:"container",class:"text-white text-sm bg-primary-300 min-h-screen pb-4"},Gt={id:"main",class:"bg-primary-300 p-6 text-black"},Jt={class:"rounded bg-white mx-4 mt-4 py-6"},Nt={class:"mt-4 mb-3"},Vt={class:"not-prose relative"},Zt={class:"ml-4 text-lg"},Yt={class:"py-2 text-md"},Ut={action:"",method:"post",class:"w-[300px]"},Wt={class:"flex items-center justify-between py-2"},qt={class:"flex items-center justify-between py-2"},Kt={class:"flex items-center justify-between py-2"};function $t(e,t,r,a,n,i){const l=(0,o.g2)("Header"),d=(0,o.g2)("PersonalNav"),c=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.CE)("div",Rt,[(0,o.bF)(l),(0,o.Lk)("div",Gt,[t[7]||(t[7]=(0,o.Lk)("div",{class:"rounded bg-white mx-4 my-4 py-6"},[(0,o.Lk)("div",{class:"px-6"},[(0,o.Lk)("h1",{class:"text-lg font-semibold"},"个人中心")])],-1)),(0,o.Lk)("div",Jt,[(0,o.bF)(d),(0,o.Lk)("div",Nt,[(0,o.Lk)("div",Vt,[(0,o.Lk)("div",Zt,[(0,o.Lk)("div",Yt,[(0,o.Lk)("form",Ut,[(0,o.Lk)("div",Wt,[t[4]||(t[4]=(0,o.Lk)("label",{for:"old_password"},"原始密码:",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.current_password=t),id:"old_password",type:"password",name:"old_password",class:"mx-2 outline-0 rounded border border-solid border-gray-500"},null,512),[[s.Jo,e.current_password]])]),(0,o.Lk)("div",qt,[t[5]||(t[5]=(0,o.Lk)("label",{for:"new_password"},"新密码:",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.new_password=t),id:"new_password",type:"password",name:"new_password",class:"mx-2 outline-0 rounded border border-solid border-gray-500"},null,512),[[s.Jo,e.new_password]])]),(0,o.Lk)("div",Kt,[t[6]||(t[6]=(0,o.Lk)("label",{for:"confirm"},"确认密码:",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.re_new_password=t),id:"confirm_password",type:"password",name:"confirm_password",class:"mx-2 outline-0 rounded border border-solid border-gray-500"},null,512),[[s.Jo,e.re_new_password]])]),(0,o.Lk)("button",{onClick:t[3]||(t[3]=(0,s.D$)(((...e)=>i.setPassword&&i.setPassword(...e)),["prevent"])),type:"button",id:"change_password",class:"mb-2 rounded border bg-blue-500 text-white text-sm h-8 w-16"},"提交")])])])])])])]),(0,o.bF)(c)])}const er={id:"tabs",class:"flex justify-start items-center py-4 bg-gray-100"};function tr(e,t){return(0,o.uX)(),(0,o.CE)("div",er,t[0]||(t[0]=[(0,o.Lk)("div",{class:"px-4 text-md"},[(0,o.Lk)("a",{href:"/personal",class:"underline-gray"},"账号信息")],-1),(0,o.Lk)("div",{class:"px-4 text-md"},[(0,o.Lk)("a",{href:"/change_password"},"修改密码")],-1)]))}const rr={},sr=(0,l.A)(rr,[["render",tr]]);var or=sr,ar={name:"ChangePassword",data:function(){return{current_password:"",new_password:"",re_new_password:""}},components:{Header:N,Footer:W,PersonalNav:or},methods:{setPassword(){const e=this.current_password,t=this.new_password,r=this.re_new_password;if(console.log(e),console.log(t),console.log(r),t!==r)return void et("2次密码不一致！");const s={current_password:this.current_password,new_password:this.new_password,re_new_password:this.re_new_password},o=window.localStorage.getItem("token");console.log(o),n.A.post("/api/users/set_password/",s,{headers:{Authorization:`JWT ${o}`}}).then((e=>{et("修改成功,请重登录","info"),setTimeout((()=>{localStorage.clear(),this.$store.commit("setLoginStatus",!1),this.$store.commit("removeToken"),this.$router.push({name:"Login"})}),1e3)})).catch((e=>{const t=e.response.data,r=Object.values(t).flat();for(let s=0;s<r.length;s++)et(r[s])}))}}};const nr=(0,l.A)(ar,[["render",$t]]);var ir=nr;const lr={id:"container",class:"text-white text-sm bg-primary-300 min-h-screen pb-4"},dr={id:"main",class:"bg-primary-300 p-6 text-black"},cr={class:"rounded bg-white mx-4 mt-4 py-6"};function ur(e,t,r,s,a,n){const i=(0,o.g2)("Header"),l=(0,o.g2)("PersonalNav"),d=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.CE)("div",lr,[(0,o.bF)(i),(0,o.Lk)("div",dr,[t[1]||(t[1]=(0,o.Lk)("div",{class:"rounded bg-white mx-4 my-4 py-6"},[(0,o.Lk)("div",{class:"px-6"},[(0,o.Lk)("h1",{class:"text-lg font-semibold"},"个人中心")])],-1)),(0,o.Lk)("div",cr,[(0,o.bF)(l),t[0]||(t[0]=(0,o.Fv)('<div class="mt-4 mb-3"><div class="not-prose relative"><div class="ml-4 text-lg"><div class="py-2"> 用户名： andy </div><div class="py-2"> 手机号：12312312312 </div><div class="py-2"> 会员状态： 会员\\ 非会员 </div><div class="py-2"> 到期时间：***** </div></div></div></div>',1))])]),(0,o.bF)(d)])}var mr={name:"Personal",components:{Header:N,Footer:W,PersonalNav:or}};const pr=(0,l.A)(mr,[["render",ur]]);var gr=pr;const hr={id:"container",class:"text-white text-sm bg-primary-300 min-h-screen pb-4"},vr={id:"main",class:"bg-primary-300 p-6 text-black"},kr={class:"rounded bg-white mx-4 mt-4 py-6"},Ar={key:0},fr={id:"movie-list",class:"p-2 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"},br={class:"movie"},xr=["href"],wr={class:"relative"},yr={key:0,class:"cover"},Er=["src"],Lr={key:1},Qr={key:2,class:"rounded absolute top-0 bg-purple-600 px-1 text-sm"},Br={key:3,class:"rounded absolute bottom-0 right-0 bg-blue-500 px-1 text-sm"},Cr={key:4,class:"rounded absolute bottom-0 right-0 bg-blue-500 px-1 text-sm"},_r={key:5,class:"rounded absolute bottom-0 right-0 bg-blue-500 px-1 text-sm"},Mr={class:"text-sm text-primary-200"},Ir={key:1,class:"text-center text-2xl"};function jr(e,t,r,s,a,n){const i=(0,o.g2)("Header"),l=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.CE)("div",hr,[(0,o.bF)(i),(0,o.Lk)("div",vr,[t[1]||(t[1]=(0,o.Lk)("div",{class:"rounded bg-white mx-4 my-4 py-6"},[(0,o.Lk)("div",{class:"px-6"},[(0,o.Lk)("h1",{class:"text-lg font-semibold"},"我的收藏")])],-1)),(0,o.Lk)("div",kr,[e.info?((0,o.uX)(),(0,o.CE)("div",Ar,[(0,o.Lk)("div",fr,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.info,(e=>((0,o.uX)(),(0,o.CE)("div",br,[(0,o.Lk)("a",{href:"/movie/"+e.id},[(0,o.Lk)("div",wr,[e.image_url?((0,o.uX)(),(0,o.CE)("div",yr,[(0,o.Lk)("img",{src:e.image_url,alt:"",class:"rounded h-full w-full"},null,8,Er)])):((0,o.uX)(),(0,o.CE)("div",Lr,t[0]||(t[0]=[(0,o.Lk)("img",{src:q,alt:"",class:"rounded h-full w-full"},null,-1)]))),e.is_top?((0,o.uX)(),(0,o.CE)("div",Qr," 置顶 ")):(0,o.Q3)("",!0),1===e.quality?((0,o.uX)(),(0,o.CE)("div",Br," 720p ")):2===e.quality?((0,o.uX)(),(0,o.CE)("div",Cr," 1080p ")):3===e.quality?((0,o.uX)(),(0,o.CE)("div",_r," 4k ")):(0,o.Q3)("",!0)]),(0,o.Lk)("p",null,(0,v.v_)(e.movie_name)+"("+(0,v.v_)(e.release_year)+")",1),(0,o.Lk)("p",Mr,(0,v.v_)(e.language),1)],8,xr)])))),256))])])):((0,o.uX)(),(0,o.CE)("div",Ir," 暂无收藏电影 "))])]),(0,o.bF)(l)])}var Xr={name:"Collect",data:function(){return{info:""}},components:{Header:N,Footer:W},mounted(){this.get_cellect_movie()},methods:{get_cellect_movie(){const e=window.localStorage.getItem("token");n.A.get("/api/collects/",{headers:{Authorization:`JWT ${e}`}}).then((e=>{this.info=e.data,console.log(this.info)})).catch((e=>{console.log(e)}))}}};const Dr=(0,l.A)(Xr,[["render",jr]]);var Or=Dr;const Sr={id:"container",class:"text-white text-sm bg-primary-300 min-h-screen pb-4"},Pr={id:"main",class:"bg-primary-300 p-12 text-black"},zr={class:"grid grid-cols-3 gap-3"},Fr={class:"text-4xl text-center"},Tr={class:"text-4xl text-center"},Hr=["onClick"];function Rr(e,t,r,s,a,n){const i=(0,o.g2)("Header"),l=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.CE)("div",Sr,[(0,o.bF)(i),(0,o.Lk)("div",Pr,[(0,o.Lk)("div",zr,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.info.results,(e=>((0,o.uX)(),(0,o.CE)("div",(0,o.v6)({ref_for:!0},e,{class:"flex flex-col justify-center items-center bg-white rounded-lg px-6 max-w-xl"}),[(0,o.Lk)("div",Fr,(0,v.v_)(e.card_name),1),(0,o.Lk)("div",Tr," ￥"+(0,v.v_)(e.card_price)+" 元 ",1),(0,o.Lk)("button",{onClick:t=>n.pay(e),"data-pay_type":"alipay",class:"card w-24 rounded-3xl bg-purple-600 text-white text-lg p-2 mx-8 my-2"},"购买",8,Hr)],16)))),256))])]),(0,o.bF)(l)])}var Gr={name:"MemberCard",data:function(){return{info:"",pay_url:""}},components:{Header:N,Footer:W},mounted(){this.get_card_info()},methods:{get_card_info(){n.A.get("/api/cards").then((e=>{this.info=e.data,console.log(this.info)}))},pay(e){console.log(e),console.log(e.id),alert("购买"+e.id);const t="/api/alipay/?card_id="+e.id;n.A.get(t,{card_id:e.id}).then((e=>{console.log(this.pay_url),window.location.href=e.data}))}}};const Jr=(0,l.A)(Gr,[["render",Rr]]);var Nr=Jr;const Vr={id:"container",class:"text-white text-sm bg-primary-300 min-h-screen pb-4"},Zr={id:"main",class:"bg-primary-300 p-6 text-black"},Yr={class:"rounded bg-white mx-4 mt-4 py-6"},Ur={id:"tabs",class:"flex justify-start items-center py-4"},Wr={class:"flex items-center ml-4"},qr={class:"relative shrink"},Kr={class:"absolute top-0 right-0 flex items-center h-full"},$r={class:"rounded text-xs text-gray-400 px-2 mr-2"},es={class:"mt-4 mb-3"},ts={class:"not-prose relative bg-slate-50 rounded-xl overflow-hidden dark:bg-slate-800/25"},rs={class:"relative rounded-xl overflow-auto"},ss={class:"shadow-sm overflow-hidden my-8"},os={class:"border-collapse table-auto w-full text-sm"},as={class:"bg-white dark:bg-slate-800"},ns={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400"},is={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400"},ls={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400"},ds={class:"border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400"},cs={class:"border-b border-slate-100 dark:border-slate-700 py-4 text-slate-500 dark:text-slate-400"},us=["onClick"],ms={key:1,class:"rounded border bg-gray-500 text-white text-sm h-8 w-16 cursor-not-allowed"},ps={key:2,class:"rounded border bg-blue-500 text-white text-sm h-8 w-16 cursor-default"};function gs(e,t,r,a,n,i){const l=(0,o.g2)("Header"),d=(0,o.g2)("Page"),c=(0,o.g2)("Footer");return(0,o.uX)(),(0,o.CE)("div",Vr,[(0,o.bF)(l),(0,o.Lk)("div",Zr,[t[6]||(t[6]=(0,o.Lk)("div",{class:"rounded bg-white mx-4 my-4 py-6"},[(0,o.Lk)("div",{class:"px-6"},[(0,o.Lk)("h1",{class:"text-lg font-semibold"},"我的订单")])],-1)),(0,o.Lk)("div",Yr,[(0,o.Lk)("div",Ur,[t[3]||(t[3]=(0,o.Fv)('<div class="px-4 text-md"><a href="/orders" class="order-status" data-order-status="all">全部订单</a></div><div class="px-4 text-md"><a href="/orders/?pay_status=paying" class="order-status" data-order-status="unpay">未付款</a></div><div class="px-4 text-md"><a href="/orders/?pay_status=trade_success" class="order-status" data-order-status="payed">已付款</a></div>',3)),(0,o.Lk)("div",Wr,[(0,o.Lk)("div",qr,[(0,o.Lk)("form",null,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.order_sn=t),type:"text",name:"order_sn",class:"outline-0 h-9 rounded border border-gray-600 placeholder-gray-400 w-64 px-2 py-1",placeholder:"请输入订单号"},null,512),[[s.Jo,e.order_sn]]),(0,o.Lk)("div",Kr,[(0,o.Lk)("div",$r,[(0,o.Lk)("button",{onClick:t[1]||(t[1]=(0,s.D$)(((...e)=>i.searchOrder&&i.searchOrder(...e)),["prevent"]))},t[2]||(t[2]=[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)]))])])])])])]),(0,o.Lk)("div",es,[(0,o.Lk)("div",ts,[t[5]||(t[5]=(0,o.Lk)("div",{class:"absolute inset-0 bg-grid-slate-100 [mask-image:linear-gradient(0deg,#fff,rgba(255,255,255,0.6))] dark:bg-grid-slate-700/25 dark:[mask-image:linear-gradient(0deg,rgba(255,255,255,0.1),rgba(255,255,255,0.5))]",style:{"background-position":"10px 10px"}},null,-1)),(0,o.Lk)("div",rs,[(0,o.Lk)("div",ss,[(0,o.Lk)("table",os,[t[4]||(t[4]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"border-b dark:border-slate-600 font-medium p-4 pl-8 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left"}," 订单号 "),(0,o.Lk)("th",{class:"border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left"}," 商品名称 "),(0,o.Lk)("th",{class:"border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left"}," 购买日期 "),(0,o.Lk)("th",{class:"border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left"}," 金额 "),(0,o.Lk)("th",{class:"border-b dark:border-slate-600 font-medium p-4 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left"}," 订单状态 ")])],-1)),(0,o.Lk)("tbody",as,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.info.results,(e=>((0,o.uX)(),(0,o.CE)("tr",null,[(0,o.Lk)("td",ns,(0,v.v_)(e.order_sn),1),(0,o.Lk)("td",is,(0,v.v_)(e.card.card_name),1),(0,o.Lk)("td",ls,(0,v.v_)(e.created_at),1),(0,o.Lk)("td",ds,(0,v.v_)(e.order_mount)+"元 ",1),(0,o.Lk)("td",cs,["PAYING"==e.pay_status?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:t=>i.pay(e),class:"pay rounded border bg-gray-500 hover:bg-blue-500 hover:text-white text-sm h-8 w-16 text-primary-100"}," 去支付 ",8,us)):"TRADE_CLOSED"==e.pay_status?((0,o.uX)(),(0,o.CE)("button",ms," 已关闭 ")):"TRADE_SUCCESS"==e.pay_status||"TRADE_FINISHED"==e.pay_status?((0,o.uX)(),(0,o.CE)("button",ps," 已完成 ")):(0,o.Q3)("",!0)])])))),256))])])])])])])])]),(0,o.bF)(d,{info:e.info},null,8,["info"]),(0,o.bF)(c)])}var hs={name:"Order",data:function(){return{info:"",order_sn:""}},components:{Header:N,Footer:W,Page:fe},mounted(){this.get_orders()},methods:{get_orders(){let e="/api/orders";const t=Number(this.$route.query.page),r=this.$route.query.pay_status,s=this.$route.query.order_sn,o=new URLSearchParams;t&&o.append("page",t),r&&o.append("pay_status",r),s&&o.append("order_sn",s),e=e+"?"+o.toString(),n.A.get(e).then((e=>{this.info=e.data}))},searchOrder(){const e=this.order_sn.trim();this.$router.push({name:"Orders",query:{order_sn:e}})},pay(e){n.A.get("/api/alipay/?card_id="+e.card.id+"&order_sn="+e.order_sn).then((e=>{console.log(e.data),window.location.href=e.data}))}},watch:{$route(){this.get_orders()}}};const vs=(0,l.A)(hs,[["render",gs]]);var ks=vs;const As=[{path:"/",name:"home",component:Le},{path:"/movie/:id",name:"MovieDetail",component:nt},{path:"/register",name:"Register",component:bt},{path:"/login",name:"Login",component:Ht},{path:"/change_password",name:"ChangePassword",component:ir,meta:{requiresLogin:!0}},{path:"/personal",name:"Personal",component:gr,meta:{requiresLogin:!0}},{path:"/collect",name:"Collect",component:Or,meta:{requiresLogin:!0}},{path:"/member_card",name:"MemberCard",component:Nr},{path:"/orders",name:"Orders",component:ks,meta:{requiresLogin:!0}},{path:"/activate/:uid/:token",name:"ActivateEmail",component:Ct},{path:"/about",name:"about",component:()=>r.e(594).then(r.bind(r,2389))}],fs=(0,u.aE)({history:(0,u.LA)("/"),routes:As});fs.beforeEach(((e,t,r)=>{const s=p.state.isLogin;!s||"Login"!==e.name&&"Register"!==e.name?e.matched.some((e=>e.meta.requiresLogin))?s?r():r({name:"Login",query:{jump:e.path}}):r():r({name:"home"})}));var bs=fs;(0,s.Ef)(c).use(p).use(bs).mount("#app")}},t={};function r(s){var o=t[s];if(void 0!==o)return o.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,s,o,a){if(!s){var n=1/0;for(c=0;c<e.length;c++){s=e[c][0],o=e[c][1],a=e[c][2];for(var i=!0,l=0;l<s.length;l++)(!1&a||n>=a)&&Object.keys(r.O).every((function(e){return r.O[e](s[l])}))?s.splice(l--,1):(i=!1,a<n&&(n=a));if(i){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[s,o,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,s){return r.f[s](e,t),t}),[]))}}(),function(){r.u=function(e){return"js/about.482f4484.js"}}(),function(){r.miniCssF=function(e){}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="frontend:";r.l=function(s,o,a,n){if(e[s])e[s].push(o);else{var i,l;if(void 0!==a)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+a){i=u;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+a),i.src=s),e[s]=[o];var m=function(t,r){i.onerror=i.onload=null,clearTimeout(p);var o=e[s];if(delete e[s],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){var e={524:0};r.f.j=function(t,s){var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)s.push(o[2]);else{var a=new Promise((function(r,s){o=e[t]=[r,s]}));s.push(o[2]=a);var n=r.p+r.u(t),i=new Error,l=function(s){if(r.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",i.name="ChunkLoadError",i.type=a,i.request=n,o[1](i)}};r.l(n,l,"chunk-"+t,t)}},r.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,a,n=s[0],i=s[1],l=s[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(l)var c=l(r)}for(t&&t(s);d<n.length;d++)a=n[d],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},s=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[504],(function(){return r(7478)}));s=r.O(s)})();
//# sourceMappingURL=app.80e4d7a2.js.map